# chinatax
# å›½å®¶å¢å€¼ç¨å‘ç¥¨æŸ¥éªŒå¹³å°éªŒè¯ç è¯†åˆ«
## CSDNåœ°å€ï¼šhttps://blog.csdn.net/Open_CV_NLP_New
## åšå®¢å›­åœ°å€ï¼šhttps://www.cnblogs.com/open-cv-nlp/p/14269675.html
### è”ç³»QQï¼š3421366528ã€‚
### ç”±äºæŸäº›äººçš„ä¸¾æŠ¥å¯¼è‡´æˆ‘çš„csdnè´¦å·æ— æ³•ç™»é™†ï¼Œç„¶è€Œæˆ‘å¹¶æ²¡æœ‰ç¬¬ä¸€æ—¶é—´åœ¨ç½‘ä¸Šå‘å¸–è¯´æ˜¯ä»–ä¸¾æŠ¥çš„ï¼Œå…¶å®ä»–ä¹‹å‰åŠ è¿‡æˆ‘å¥½å‹ï¼Œç¨åçœ‹ä¸‹å›¾ï¼Œåæ¥å‘ç°ä»–çš„åšå®¢ä¹Ÿè¢«ä¸¾æŠ¥äº†ï¼Œä½†æ˜¯ä»–ç¬¬ä¸€æ—¶é—´åœ¨ç½‘ä¸Šå‘å¸–è¯´æˆ‘å¹²çš„ï¼Œæˆ‘ä¸çŸ¥é“æ˜¯æœ‰ç¬¬ä¸‰ä¸ªäººä¸¾æŠ¥è®©æˆ‘ä»¬äº’æï¼Œåäº«æ¸”ç¿ä¹‹åˆ©ï¼Œè¿˜æ˜¯é‚£ä¸ªäººè‡ªç¼–è‡ªå¯¼çš„ä¸€åœºå¥½æˆï¼Œçœ‹è¯„è®ºè¯´ä»–ä»Šå¹´è€ƒç ”ï¼Œå¯èƒ½è€ƒå®Œäº†è¦å¯¹æˆ‘ä¸‹æ‰‹äº†ã€‚ä»–è¿˜è¯´æˆ‘æ˜¯è‹¦è‚‰è®¡ï¼Œæˆ‘é—®å€™ä½ å…¨å®¶å¥½å§ã€‚å…¶å®å›½ç¨å±€çš„éªŒè¯ç è¯†åˆ«è¿™å—ç¡®å®åšåˆ°è¯†åˆ«ç‡è¾¾åˆ°97%æ²¡å‡ ä¸ªï¼Œæˆ‘ç¡®å®åšåˆ°äº†ï¼Œæˆ‘æš‚ä¸”ç›¸ä¿¡ä»–ä¹Ÿåšåˆ°äº†ã€‚å…¶å®æ˜¯ç”±äºæˆ‘å¯¼å¸ˆå‰æ®µæ—¶é—´æ¥äº†ä¸€ä¸ªç¨åŠ¡æ–¹é¢çš„å°é¡¹ç›®æ´¾ç»™æˆ‘å’Œå¸ˆå¼Ÿåšçš„ï¼Œæ‰€ä»¥å¤§å®¶ä¹‹å‰å¹¶æœªçœ‹åˆ°æˆ‘å‘è¡¨çš„å…³äºå›½ç¨å±€éªŒè¯ç è¯†åˆ«çš„æ¥å£ï¼Œåœ¨æˆ‘åšå‡ºæ¥ä¹‹å‰ï¼Œæˆ‘çœ‹äº†ä¸€ä¸‹ç½‘ä¸Šéƒ½æ˜¯é‚£ä¸ªäººçš„å¸–å­ï¼Œè°å…ˆåšå‡ºæ¥è°å…ˆå„æ–­å˜›ï¼Œä½†æ˜¯å¯¼å¸ˆçš„ä»»åŠ¡åˆä¸èƒ½æ”¾å¼ƒï¼Œæ‰€ä»¥ç»è¿‡ç ”ç©¶è‡ªå·±å†™äº†ç”Ÿæˆå™¨ä»£ç ï¼Œä»–è¯´æˆ‘çœ‹ä»–çš„Javaç”Ÿæˆå™¨ï¼Œç„¶è€Œå¹¶æ²¡æœ‰ï¼Œå¦‚æœä½ çš„ç”Ÿæˆå™¨çœŸçš„æœ‰æ•ˆï¼Œåˆ«äººæ—©å°±æœ‰è¯†åˆ«ç‡å¾ˆé«˜çš„æ¨¡å‹äº†ï¼Œä½•å¿…è½®åˆ°æˆ‘å‘¢ï¼Œé‚£ä¸ªä»£ç åªæ˜¯ç›¸å¯¹æ¯”è¾ƒæ¥è¿‘çœŸå®çš„éªŒè¯ç ï¼Œä½†æ˜¯è‚‰çœ¼å¯è§çš„å·®åˆ«è¿˜æ˜¯å¾ˆå¤§çš„ã€‚å†è¯´è¯´é‚£ä¸ªè¯•ç”¨ç‰ˆçš„æ‰“åŒ…è½¯ä»¶ï¼Œæ—¢ç„¶æ˜¯è¯•ç”¨ç‰ˆè‚¯å®šè¦åŠ ä¸ªè¯•ç”¨æœŸé™ï¼Œä½†æ˜¯é‡Œé¢çš„pbæ¨¡å‹å¹¶æ²¡æœ‰æ”¾è¯†åˆ«ç‡æœ€å¥½çš„é‚£ä¸ªï¼Œè€Œæ˜¯æ”¾äº†ä¸€ä¸ªè¯†åˆ«ç‡ä¸­ç­‰çš„æ¨¡å‹ï¼Œå¤§æ¦‚90%ï¼Œé‚£ä¸ªäººè§‰å¾—è‡ªå·±åç¼–è¯‘äº†ï¼Œè§‰å¾—è‡ªå·±æŒºç‰›ğŸºï¼Œè¿˜æŠŠé€šè¿‡pyinstalleræ‰“åŒ…å‰çš„Pythonä»£ç å…¬å¸ƒå‡ºæ¥ï¼Œè¯´æ˜¯å®šæ—¶ç‚¸å¼¹ï¼Œæˆ‘å†æ¬¡é—®å€™ä½ å…¨å®¶ï¼Œæ²¡çœ‹è§å†™çš„æ˜¯è¯•ç”¨ç‰ˆå—ï¼Ÿçœ¼ç›ä¸æƒ³è¦å¯ä»¥æäº†ï¼Œçœçš„æµªè´¹ã€‚
### ç„¶åå¥½äº†ï¼Œä»–çš„åšå®¢å·²ç»æ¢å¤æ­£å¸¸äº†ï¼Œç„¶è€Œæˆ‘çš„è´¦å·æ²¡äº†ï¼Œæˆ‘ä¸ç®¡æ˜¯ä¸æ˜¯ä½ ä¸¾æŠ¥çš„ï¼Œè‡³å°‘æˆ‘æ²¡æœ‰ç¬¬ä¸€æ—¶é—´å‘å¸–è¯´æ˜¯ä½ ä¸¾æŠ¥çš„ï¼Œè¯´æ˜ä½ å¾ˆåœ¨æ„åˆ«äººåšçš„è¯†åˆ«æ¨¡å‹ã€‚è¿˜è¯´åˆ«äººä¸è®²æ­¦å¾·ï¼Œä½ è‡ªå·±æ‰æ˜¯æœ€ä¸è®²æ­¦å¾·çš„ã€‚
### ä¸ºä»€ä¹ˆé‚£ä¸ªäººè¦ä¸åœçš„å‘å¸–ï¼Œæ˜¾ç¤ºè‡ªå·±çš„æ°´å¹³ï¼Œå°±æ˜¯å› ä¸ºæˆ‘çš„ä»·æ ¼ä¾¿å®œå‡ ç™¾å—é’±ä¸€å¥—ï¼Œè€Œä»–8ä¸‡ä¸€å¥—ï¼Œä»–å¿ƒé‡Œæ€¥å‘€ï¼Œå› ä¸ºä»–å„æ–­å¸‚åœºå¥½å‡ å¹´äº†ï¼Œè¿™å—è‚¥è‚‰ä¸èƒ½ä¸¢äº†å‘€ï¼Œç»§ç»­å‘å§ã€‚
### çœ‹ä»–çš„å‘çš„æ¶ˆæ¯æˆªå›¾ï¼š
![Image text](https://github.com/digtial/chinatax/blob/main/%E6%B6%88%E6%81%AF%E6%88%AA%E5%9B%BE.JPG)
  
  
***è¯·ä½¿ç”¨postï¼Œgetè¿”å›ç½‘é¡µæŒ‡å¯¼ã€‚***

**éªŒè¯ç è¯†åˆ«**
Pythonè¯·æ±‚ç¤ºä¾‹ä»£ç å¦‚ä¸‹ï¼š
```python
import base64
import requests

with open('./test02.png', 'rb') as f:
    img_bytes = f.read()

img_base64 = base64.b64encode(img_bytes)
# '00' é»‘è‰² '01' çº¢è‰² '02' é»„è‰² '03' è“è‰²
data = {'image': str(img_base64, 'utf-8'), 'key': '03'}
result = requests.post('http://47.99.174.98:8808/captcha', json=data)
# è¿”å›jsonæ ¼å¼æ•°æ®{"code": "7RT"}
print(result.json())
```


JAVAè¯·æ±‚ä»£ç å¦‚ä¸‹ï¼š
```java
import java.io.*;
import java.net.HttpURLConnection;
import java.net.URL;
import java.util.Base64;


public class CaptchaRecognize {
    static String captcha_url = "http://47.99.174.98:8808/captcha";

    public static String getBase64(String imgFile) {
        InputStream inputStream = null;
        byte[] data = null;
        try {
            inputStream = new FileInputStream(imgFile);
            data = new byte[inputStream.available()];
            inputStream.read(data);
            inputStream.close();

        } catch (IOException e) {
            e.printStackTrace();
        }
        Base64.Encoder encoder = Base64.getEncoder();
        assert data != null;
        return encoder.encodeToString(data);
    }

    public static void captchaPost() throws IOException {
        String imgBase64 = getBase64("./imgs/img001.jpg");
        String data = "{" + "\"image\":" + "\"" + imgBase64 + "\"" + "," + "\"key\":" + "\"03\"" + "}";
        URL url = new URL(captcha_url);
        HttpURLConnection conn = (HttpURLConnection) url.openConnection();
        conn.setRequestMethod("POST");
        conn.setDoOutput(true);
        conn.setDoInput(true);
        conn.setRequestProperty("Content-Type", "application/json");
        conn.setRequestProperty("Accept", "application/json");
        OutputStreamWriter out = new OutputStreamWriter(conn.getOutputStream());
        out.write(data);
        out.flush();
        out.close();
        BufferedReader in = new BufferedReader(new InputStreamReader(conn.getInputStream(), "UTF-8"));
        String line;
        while ((line = in.readLine()) != null) {
            System.out.println(line); // {"code": "Y2W"}
        }
    }

    public static void main(String[] args) throws IOException {
        captchaPost();
    }
}

```


### å‘ç¥¨æŸ¥éªŒ
æŸ¥éªŒè§„åˆ™åŒå›½ç¨å±€å®˜ç½‘ï¼Œå‚æ•°ä¸ºå‘ç¥¨ä»£ç ã€å‘ç¥¨å·ç ã€å¼€ç¥¨æ—¥æœŸã€æ ¡éªŒç ã€‚
42å¼€å¤´çš„æœåŠ¡å™¨å³å°†åˆ°æœŸï¼Œè¯·ä½¿ç”¨å¦‚ä¸‹çš„åœ°å€ã€‚
```python
import requests
data = {'fpdm': '044001505121', 'fphm': '38507145', 'rq': '20180926', 'jym': '865375'}
result = requests.post('http://47.99.174.98:8808/fp', json=data)
print(result.json())
```

{'key1': '001', 'key2': '0â‰¡20180916â‰¡ç æµ·å¸‚é­…æ—ç§‘æŠ€æœ‰é™å…¬å¸â‰¡914404007480139363â‰¡ç æµ·å¸‚ç§‘æŠ€åˆ›æ–°æµ·å²¸é­…æ—ç§‘æŠ€æ¥¼07566116288â‰¡ä¸­å›½å·¥å•†é“¶è¡Œè‚¡ä»½æœ‰é™å…¬å¸ç æµ·å”å®¶æ”¯è¡Œ 2002021719100112933â‰¡######â‰¡ â‰¡â‰¡â‰¡44829907091899865275â‰¡454.90â‰¡3298.00â‰¡â‰¡661616290243â‰¡2843.10â‰¡0â‰¡â‰¡', 'key3': '*ç§»åŠ¨é€šä¿¡è®¾å¤‡*M882Q-é­…æ—16å›½å†…å…¨ç½‘é€šå…¬å¼€ç‰ˆè¿œå±±ç™½8+128GBâ–ˆâ–ˆâ–ˆ0.160â–ˆ2843.10000000â–ˆ2843.10â–ˆ1.00000000â–ˆ454.90â–ˆâ–ˆ1090505000000000000', 'key4': 'è®¢å•å·:22082501351048928121 è½¯ä»¶:é­…æ—Flymeæ™ºèƒ½æ‰‹æœºæ“ä½œè½¯ä»¶V7.1.1;æ•°é‡:1;ä¸å«ç¨é‡‘é¢:68.97;ç¨é¢:11.03', 'key5': '1', 'key11': 'o'}

